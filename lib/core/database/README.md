# Database Architecture - ุจููุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช

ุชู ุฅุนุงุฏุฉ ุชูุธูู ูุฏูุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุฅูู ูุญุฏุงุช ููุทููุฉ ูููุตูุฉ ูุณูููุฉ ุงูุตูุงูุฉ ูุงูุชุทููุฑ.

## ๐ ุงูุจููุฉ ุงูุฌุฏูุฏุฉ

```
lib/core/database/
โโโ database_manager.dart          # ุงููุฏูุฑ ุงูุฑุฆูุณู (ูุญุฏูุฏ ุงููุธุงุฆู)
โโโ database_exports.dart          # ููู ุงูุชุตุฏูุฑ ุงูููุญุฏ
โโโ managers/                      # ูุฌูุฏ ุงููุฏูุฑูู ุงููุชุฎุตุตูู
โ   โโโ base_database_manager.dart # ุงููุฏูุฑ ุงูุฃุณุงุณู (ูุธุงุฆู ูุดุชุฑูุฉ)
โ   โโโ adapters_manager.dart      # ูุฏูุฑ ุชุณุฌูู ุงููุญููุงุช
โ   โโโ workout_manager.dart       # ูุฏูุฑ ุงูุชูุงุฑูู
โ   โโโ habits_manager.dart        # ูุฏูุฑ ุงูุนุงุฏุงุช
โโโ README.md                      # ูุฐุง ุงูููู
```

## ๐ง ุงููุฏูุฑูู ุงููุชุฎุตุตูู

### 1. BaseDatabaseManager

**ุงูููู:** `managers/base_database_manager.dart`

- ูุธุงุฆู ูุณุงุนุฏุฉ ูุดุชุฑูุฉ
- `registerAdapterSafe()` - ุชุณุฌูู ุขูู ูููุญููุงุช
- `openBoxSafe()` - ูุชุญ ุขูู ููุตูุงุฏูู
- `createDefaultDataIfEmpty()` - ุฅูุดุงุก ุจูุงูุงุช ุงูุชุฑุงุถูุฉ

### 2. AdaptersManager

**ุงูููู:** `managers/adapters_manager.dart`

- ุชุณุฌูู ุฌููุน ูุญููุงุช Hive
- ูููุธููู ุญุณุจ ุงููุญุฏุฉ (ุฅุดุนุงุฑุงุชุ ุชูุงุฑููุ ุนุงุฏุงุชุ ุฅูุฎ)
- ูุนุฑูุงุช TypeId ูุงุถุญุฉ ููููุซูุฉ

### 3. WorkoutManager

**ุงูููู:** `managers/workout_manager.dart`

- ุฅุฏุงุฑุฉ ูุงููุฉ ูุจูุงูุงุช ุงูุชูุงุฑูู
- ุฅุญุตุงุฆูุงุช ุงูุชูุงุฑูู
- ููุชุฑุฉ ุจุงูุชุงุฑูุฎ
- `add()`, `update()`, `delete()`, `getAll()`

### 4. HabitsManager

**ุงูููู:** `managers/habits_manager.dart`

- ุฅุฏุงุฑุฉ ูุงููุฉ ููุนุงุฏุงุช ูุฅุฏุฎุงูุงุชูุง
- ุชุชุจุน ุงูุฎุทูุท (Streaks)
- ุฅุญุตุงุฆูุงุช ุงูุนุงุฏุงุช
- ุญุณุงุจ ูุนุฏู ุงูุฅููุงู

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู

### ุงูุงุณุชูุฑุงุฏ

```dart
// ุงุณุชูุฑุงุฏ ุฌููุน ุงููุฏูุฑูู
import 'package:habit_tracker/core/database/database_exports.dart';

// ุฃู ุงุณุชูุฑุงุฏ ูุฏูุฑ ูุญุฏุฏ
import 'package:habit_tracker/core/database/managers/workout_manager.dart';
```

### ุงูุชููุฆุฉ

```dart
// ุชููุฆุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช (ูุชู ุชููุฆุฉ ุฌููุน ุงููุฏูุฑูู)
await DatabaseManager.initialize();
```

### ุงุณุชุฎุฏุงู ุงููุฏูุฑูู ุงูุฌุฏุฏ

```dart
// ุงุณุชุฎุฏุงู WorkoutManager
await WorkoutManager.add(workout);
final workouts = WorkoutManager.getAll();

// ุงุณุชุฎุฏุงู HabitsManager
await HabitsManager.addHabit(habit);
final stats = HabitsManager.getHabitsStats();
```

### ุงูุชูุงูู ูุน ุงููุณุฎุฉ ุงููุฏููุฉ

```dart
// ุงูุทุฑู ุงููุฏููุฉ ุชุนูู ููู deprecated
await DatabaseManager.addWorkout(workout); // โ deprecated
await WorkoutManager.add(workout);          // โ ุงูุทุฑููุฉ ุงูุฌุฏูุฏุฉ
```

## โก ุงููููุฒุงุช ุงูุฌุฏูุฏุฉ

1. **ุชูุธูู ุฃูุถู**: ูู ูุญุฏุฉ ูู ููู ูููุตู
2. **ุณูููุฉ ุงูุตูุงูุฉ**: ุชุนุฏูู ูุญุฏุฉ ูุงุญุฏุฉ ููุท ุนูุฏ ุงูุญุงุฌุฉ
3. **ุฅุนุงุฏุฉ ุงูุงุณุชุฎุฏุงู**: ุงููุฏูุฑูู ูุงุจููู ููุงุณุชุฎุฏุงู ุจุดูู ูุณุชูู
4. **ุงูุชูุงูู**: ุงูุทุฑู ุงููุฏููุฉ ุชุนูู ูุถูุงู ุนุฏู ูุณุฑ ุงูููุฏ ุงูููุฌูุฏ
5. **ุงูุฅุญุตุงุฆูุงุช**: ุฅุญุตุงุฆูุงุช ููุญุณูููุฉ ูุฃูุซุฑ ุชูุตููุงู
6. **ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก**: ูุนุงูุฌุฉ ุขููุฉ ูุน ุฑุณุงุฆู ูุงุถุญุฉ

## ๐ ุฎุทุท ุงููุณุชูุจู

- [ ] ูุฏูุฑ ููููุงู (TasksManager)
- [ ] ูุฏูุฑ ูุชูุงุฑูู ุงูุตุจุงุญ (MorningExerciseManager)
- [ ] ูุฏูุฑ ููุฅุนุฏุงุฏุงุช (SettingsManager)
- [ ] ูุฏูุฑ ูููุณุฎ ุงูุงุญุชูุงุทู (BackupManager)
- [ ] ุฏุนู ููุงุนุฏ ุงูุจูุงูุงุช ุงูุณุญุงุจูุฉ
- [ ] ุชุดููุฑ ุงูุจูุงูุงุช

## ๐ ููุงุญุธุงุช ูููุทูุฑูู

- ุงุณุชุฎุฏู ุงููุฏูุฑูู ุงูุฌุฏุฏ ูู ุงูููุฏ ุงูุฌุฏูุฏ
- ุงูุทุฑู ุงูููุนููููุฉ ุจู `@deprecated` ุณุชูุญุฐู ูู ุงููุณุฎุฉ ุงููุงุฏูุฉ
- ุชุฃูุฏ ูู ุงุณุชุฏุนุงุก `DatabaseManager.initialize()` ูุจู ุงุณุชุฎุฏุงู ุฃู ูุฏูุฑ
- ุฑุงุฌุน ุฅุญุตุงุฆูุงุช ูู ูุฏูุฑ ููุญุตูู ุนูู ุจูุงูุงุช ูููุฏุฉ

---

**ุชู ุฅูุดุงุก ูุฐุง ุงูุชูุธูู ูู**: ุณุจุชูุจุฑ 2025  
**ุขุฎุฑ ุชุญุฏูุซ**: ุงูููู
